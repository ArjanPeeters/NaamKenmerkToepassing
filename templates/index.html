<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Naam Kenmerk Toepassing</title>
	<!-- bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
	<!-- bootstrap -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<header>
		<div class="header-image">
			<img src="static/Logo_Naakt.png" alt="Naa.K.T. Logo">
		</div>
	</header>

	<div class="row g-3">
		<form method="POST" class="row g-3", action="{{url_for('index')}}">
			{{formulier.csrf_token}}
			<div class="col-md-1"></div>
			<div class="col-md-3">
			{{formulier.naam_selection.label(class="form-label")}}
			{{formulier.naam_selection(class="form-control")}}
			</div>
			<div class="col-md-3">
			{{formulier.kenmerk_selection.label(class="form-label")}}
			{{formulier.kenmerk_selection(class="form-control")}}
			</div>
			<div class="col-md-3">
			{{formulier.toepassing_selection.label(class="form-label")}}
			{{formulier.toepassing_selection(class="form-control")}}
			</div>
			<div class="col-md-1">
				<input type="submit" value="Submit" class="submit-button">
			</div>
			<div class="col-md-1"></div>

		</form>
	</div>
	<script>
		let naam_select = document.getElementById('naam_selection');
		let kenmerk_select = document.getElementById('kenmerk_selection');
		let toepassing_select = document.getElementById('toepassing_selection');

		naam_select.onchange = function() {
			naam = naam_select.value;

			fetch('/naam/' + naam).then(function(response) {
				response.json().then(function(data) {
					let kenmerkHTML = '';
					let toepassingHTML = '';

					for (let kenm of data.kenmerken) {
						kenmerkHTML += '<option value="' + kenm.id + '">' + kenm.kenmerk + '</option>';
					}
					for (let toep of data.toepassingen) {
						toepassingHTML += '<option value="' + toep.id + '">' + toep.toepassing + '</option>';
					}

					kenmerk_select.innerHTML = kenmerkHTML;
					toepassing_select.innerHTML = toepassingHTML;

				})
			});
		}

	</script>

	{% if selections|length > 0 %}
		<H2>Selections:</H2>
		{% for s in selections %}
			<p><code>{{s}}</code></p>
		{% endfor %}
	{% endif %}
</body>
</html>